<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Era</title>
  <link rel="stylesheet" href="./css/reset.css">
  <link rel="stylesheet" href="./css/slick.css">
  <link rel="stylesheet" href="./css//jquery.fancybox.css">
  <link rel="icon" type="image/x-icon" href="./images/globe.svg">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="./css/style.css">
</head>
<body>
  <h1 class="main__title">Era</h1>
  <div class="main__descr">
    Every moment matters
  </div>
  <div class="globe">
    <img class="globe-img" src="./images/globe.svg" alt="">
    <img class="globe-img" src="./images/globe.svg" alt="">
    <img class="globe-img" src="./images/globe.svg" alt="">
    <img class="globe-img" src="./images/globe.svg" alt="">
  </div>
  <div class="form__wrapper">
    <form class="form" action="">
      <a href="./auth.html" class="form__btn">
        <span>JOIN ERA</span>
        <?xml version="1.0" encoding="iso-8859-1"?>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
          viewBox="0 0 205.229 205.229" xml:space="preserve">
          <g>
            <g>
              <g>
                <g>
                  <path class="color-change" style="fill:#fff;" d="M102.618,205.229c-56.585,0-102.616-46.031-102.616-102.616C0.002,46.031,46.033,0,102.618,0
        					C159.2,0,205.227,46.031,205.227,102.613C205.227,159.198,159.2,205.229,102.618,205.229z M102.618,8.618
        					c-51.829,0-94.002,42.166-94.002,93.995s42.17,93.995,94.002,93.995c51.825,0,93.988-42.162,93.988-93.995
        					C196.606,50.784,154.444,8.618,102.618,8.618z" />
                </g>
              </g>
              <g>
                <g>
                  <rect class="color-change" x="5.746" y="98.304" style="fill:#fff;" width="193.734" height="8.618" />
                </g>
              </g>
              <g>
                <g>
                  <path class="color-change" style="fill:#fff;" d="M104.941,62.111c-48.644,0-84.94-10.704-87.199-11.388l2.494-8.253
        					c0.816,0.247,82.657,24.336,164.38-0.004l2.452,8.26C158.405,59.266,130.021,62.111,104.941,62.111z" />
                </g>
              </g>
              <g>
                <g>
                  <path class="color-change" style="fill:#fff;" d="M20.416,160.572l-2.459-8.26c84.271-25.081,165.898-1.027,169.333,0l-2.494,8.256
        					C183.976,160.318,102.142,136.24,20.416,160.572z" />
                </g>
              </g>
              <g>
                <g>
                  <path class="color-change" style="fill:#fff;" d="M69.399,196.168C26.933,96.747,63.584,8.604,63.959,7.727l7.927,3.378
        					c-0.365,0.845-35.534,85.756,5.44,181.677L69.399,196.168z" />
                </g>
              </g>
              <g>
                <g>
                  <path class="color-change" style="fill:#fff;" d="M135.168,196.168l-7.927-3.382c40.971-95.92,5.801-180.832,5.436-181.677l7.927-3.378
        					C140.973,8.604,177.627,96.747,135.168,196.168z" />
                </g>
              </g>
              <g>
                <g>
                  <rect class="color-change" x="98.306" y="5.744" style="fill:#fff;" width="8.614" height="197.302" />
                </g>
              </g>
            </g>
          </g>
        </svg>
      </a>
    </form>
  </div>
  <div id="root"></div>

<canvas id="webCanvas"></canvas>

<script>
  const forms = document.querySelector(".form");

  forms.addEventListener("mouseenter", () => {
    document.querySelectorAll('.globe-img').forEach(img => {
      img.classList.add('paused');
    });
  });

  forms.addEventListener("mouseleave", () => {
    document.querySelectorAll('.globe-img').forEach(img => {
      img.classList.remove('paused');
    });
  });
</script>
<script>
  const canvas = document.getElementById("webCanvas");
  const ctx = canvas.getContext("2d");
  const form = document.querySelector(".form");
  const inputs = document.querySelectorAll("input");
  let cursorX = window.innerWidth / 2;
  let cursorY = window.innerHeight / 2;
  let isCursorOverForm = false;
  let isCursorOverInput = false;
  let animationFrame;

  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }

  window.addEventListener("resize", resizeCanvas);
  resizeCanvas();

  window.addEventListener("mousemove", (e) => {
    cursorX = e.clientX;
    cursorY = e.clientY;

    isCursorOverInput = Array.from(inputs).some(input => {
      const rect = input.getBoundingClientRect();
      return e.clientX >= rect.left && e.clientX <= rect.right &&
        e.clientY >= rect.top && e.clientY <= rect.bottom;
    });

    if (!isCursorOverInput && !isCursorOverForm) {
      drawWeb();
    }
  });

  form.addEventListener("mouseenter", () => {
    isCursorOverForm = true;
    cancelAnimationFrame(animationFrame);
    ctx.clearRect(0, 0, canvas.width, canvas.height);
  });

  form.addEventListener("mouseleave", () => {
    isCursorOverForm = false;
    if (!isCursorOverInput) {
      drawWeb();
    }
  });

  inputs.forEach(input => {
    input.addEventListener("mouseenter", () => {
      isCursorOverInput = true;
      cancelAnimationFrame(animationFrame);
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    });

    input.addEventListener("mouseleave", () => {
      isCursorOverInput = false;
      if (!isCursorOverForm) {
        drawWeb();
      }
    });
  });


  function drawWeb() {
    if (isCursorOverForm || isCursorOverInput) return;

    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.strokeStyle = "white";
    ctx.shadowColor = "rgba(255, 255, 255, 0.6)";
    ctx.shadowBlur = 5;
    ctx.lineWidth = 2;

    const width = canvas.width;
    const height = canvas.height;

    const points = [
      { x: 0, y: 0 }, { x: width, y: 0 },
      { x: 0, y: height }, { x: width, y: height },
      { x: width / 2, y: 0 }, { x: width / 2, y: height },
      { x: 0, y: height / 2 }, { x: width, y: height / 2 }
    ];

    points.forEach(point => {
      ctx.beginPath();
      ctx.moveTo(point.x, point.y);
      ctx.lineTo(cursorX, cursorY);
      ctx.stroke();
    });

    animationFrame = requestAnimationFrame(drawWeb);
  }

  drawWeb();
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="./js/slick.min.js"></script>
<script src="./js/jquery.fancybox.min.js"></script>
<script src="./js/main.js"></script>
</body>
</html>
